<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Implementa√ß√£o ‚Äî Login + √Årea do Cliente | Arthemi</title>
    <style>
        :root {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --bg-card: #222222;
            --bg-hover: #2a2a2a;
            --accent: #8b5cf6;
            --accent-light: #a78bfa;
            --accent-dark: #7c3aed;
            --text-primary: #f5f5f5;
            --text-secondary: #a3a3a3;
            --text-muted: #737373;
            --border: #333333;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            font-size: 16px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        header {
            text-align: center;
            padding: 3rem 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 2rem;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .version-badge {
            display: inline-block;
            background: var(--bg-card);
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.875rem;
            color: var(--accent-light);
            margin-top: 1rem;
            border: 1px solid var(--border);
        }

        /* Print Button */
        .print-btn {
            position: fixed;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--accent);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s ease;
            z-index: 100;
        }

        .print-btn:hover {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }

        /* Sum√°rio */
        .summary {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin-bottom: 3rem;
            border: 1px solid var(--border);
        }

        .summary h2 {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.75rem;
        }

        .summary a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.5rem 0;
            transition: color 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .summary a:hover {
            color: var(--accent-light);
        }

        .summary a::before {
            content: "‚Üí";
            color: var(--accent);
            font-size: 0.875rem;
        }

        /* Sections */
        section {
            margin-bottom: 3rem;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--border);
        }

        .section-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section-icon svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem;
            color: var(--text-primary);
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            transition: all 0.2s ease;
        }

        .card:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .card h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card p {
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        /* Lists */
        ul, ol {
            padding-left: 1.5rem;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 0.5rem;
        }

        li strong {
            color: var(--text-primary);
        }

        /* Tables */
        .table-wrapper {
            overflow-x: auto;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-secondary);
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
        }

        td {
            color: var(--text-secondary);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover td {
            background: var(--bg-hover);
        }

        /* Code */
        code {
            background: var(--bg-secondary);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, 'Courier New', monospace;
            font-size: 0.875rem;
            color: var(--accent-light);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-success { background: rgba(34, 197, 94, 0.15); color: var(--success); }
        .badge-warning { background: rgba(245, 158, 11, 0.15); color: var(--warning); }
        .badge-danger { background: rgba(239, 68, 68, 0.15); color: var(--danger); }
        .badge-info { background: rgba(59, 130, 246, 0.15); color: var(--info); }
        .badge-purple { background: rgba(139, 92, 246, 0.15); color: var(--accent-light); }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border);
        }

        .timeline-item {
            position: relative;
            padding-bottom: 1.5rem;
        }

        .timeline-item:last-child {
            padding-bottom: 0;
        }

        .timeline-dot {
            position: absolute;
            left: -2rem;
            top: 0.25rem;
            width: 16px;
            height: 16px;
            background: var(--accent);
            border-radius: 50%;
            border: 3px solid var(--bg-primary);
        }

        .timeline-item.completed .timeline-dot {
            background: var(--success);
        }

        .timeline-item.marketing .timeline-dot {
            background: var(--warning);
        }

        .timeline-date {
            font-weight: 600;
            color: var(--accent-light);
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .timeline-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .timeline-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Checklist */
        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist li {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-card);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            border: 1px solid var(--border);
        }

        .checklist-box {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 4px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }

        footer p {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: #1a1a1a;
            }

            .print-btn {
                display: none;
            }

            .card, .summary, .table-wrapper {
                border: 1px solid #e5e5e5;
                background: #fafafa;
            }

            th {
                background: #f5f5f5;
            }

            code {
                background: #f5f5f5;
                color: #7c3aed;
            }

            a {
                color: #7c3aed;
            }

            .section-icon {
                background: #7c3aed;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .logo {
                font-size: 2rem;
            }

            .summary-grid {
                grid-template-columns: 1fr;
            }

            .print-btn {
                position: static;
                margin: 1rem auto;
            }

            header {
                padding: 2rem 0;
            }
        }
    </style>
</head>
<body>
    <button class="print-btn" onclick="window.print()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 6 2 18 2 18 9"></polyline>
            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
            <rect x="6" y="14" width="12" height="8"></rect>
        </svg>
        Imprimir / PDF
    </button>

    <div class="container">
        <header>
            <div class="logo">ARTHEMI</div>
            <p class="subtitle">Plano de Implementa√ß√£o ‚Äî Login + √Årea do Cliente</p>
            <span class="version-badge">v1.0 ‚Äî 30 de Dezembro de 2025</span>
        </header>

        <!-- Sum√°rio -->
        <nav class="summary">
            <h2>üìë Sum√°rio</h2>
            <div class="summary-grid">
                <a href="#visao-geral">Vis√£o Geral</a>
                <a href="#decisao">Por que esta Solu√ß√£o</a>
                <a href="#area-cliente">√Årea do Cliente</a>
                <a href="#area-admin">√Årea Administrativa</a>
                <a href="#seguranca">Seguran√ßa</a>
                <a href="#banco-dados">Banco de Dados</a>
                <a href="#apis">APIs / Endpoints</a>
                <a href="#regras-negocio">Regras de Neg√≥cio</a>
                <a href="#checklist">Checklist</a>
                <a href="#cronograma">Cronograma</a>
                <a href="#marketing">Plano de Marketing</a>
            </div>
        </nav>

        <!-- Vis√£o Geral -->
        <section id="visao-geral">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                </div>
                <h2>Vis√£o Geral</h2>
            </div>
            <p>Implementa√ß√£o de sistema de autentica√ß√£o tradicional (email + senha) para o Espa√ßo Arthemi, substituindo o modelo de magic link. O projeto inclui √°rea do cliente para gest√£o de agendamentos e cr√©ditos, al√©m de melhorias na √°rea administrativa.</p>
            
            <div class="card-grid">
                <div class="card">
                    <h4>üîê Autentica√ß√£o</h4>
                    <p>Login com email (Gmail/Hotmail/etc) e senha, cadastro, recupera√ß√£o de senha com token por email.</p>
                </div>
                <div class="card">
                    <h4>üë§ √Årea do Cliente</h4>
                    <p>Visualiza√ß√£o de cr√©ditos por consult√≥rio, hist√≥rico de agendamentos, agendar/cancelar/remarcar.</p>
                </div>
                <div class="card">
                    <h4>‚öôÔ∏è Admin Aprimorado</h4>
                    <p>Gest√£o de usu√°rios: listar, bloquear/desbloquear, for√ßar reset de senha, alterar roles.</p>
                </div>
                <div class="card">
                    <h4>üõ°Ô∏è Seguran√ßa Total</h4>
                    <p>JWT em cookie HttpOnly, bcrypt, rate limit, auditoria de a√ß√µes sens√≠veis.</p>
                </div>
            </div>
        </section>

        <!-- Por que esta Solu√ß√£o -->
        <section id="decisao">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <h2>Por que esta Implementa√ß√£o</h2>
            </div>
            <p>A decis√£o pelo login tradicional foi baseada na experi√™ncia do usu√°rio e requisitos do cliente:</p>
            <ul>
                <li><strong>Familiaridade:</strong> Usu√°rios est√£o acostumados com email + senha</li>
                <li><strong>Autonomia:</strong> Cliente n√£o depende de receber email a cada login</li>
                <li><strong>Controle:</strong> Possibilidade de bloquear usu√°rios, for√ßar reset, gerenciar acessos</li>
                <li><strong>Escalabilidade:</strong> Base s√≥lida para futuras funcionalidades (permiss√µes granulares, etc)</li>
                <li><strong>Seguran√ßa:</strong> bcrypt + JWT HttpOnly √© padr√£o da ind√∫stria, amplamente testado</li>
            </ul>
        </section>

        <!-- √Årea do Cliente -->
        <section id="area-cliente">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
                </div>
                <h2>Funcionalidades ‚Äî √Årea do Cliente</h2>
            </div>
            <div class="card-grid">
                <div class="card">
                    <h4>üí∞ Cr√©ditos por Consult√≥rio</h4>
                    <p>Visualizar saldo em R$ separado por consult√≥rio (Prime, Executive, Essential), com hist√≥rico de uso.</p>
                </div>
                <div class="card">
                    <h4>üìÖ Meus Agendamentos</h4>
                    <p>Lista de reservas passadas e futuras, status (confirmado, cancelado, pendente).</p>
                </div>
                <div class="card">
                    <h4>‚ûï Novo Agendamento</h4>
                    <p>Agendar hor√°rio dispon√≠vel, respeitando regras de neg√≥cio do Arthemi.</p>
                </div>
                <div class="card">
                    <h4>üîÑ Cancelar / Remarcar</h4>
                    <p>Cancelar ou alterar data/hora de agendamentos futuros (com regras de prazo).</p>
                </div>
                <div class="card">
                    <h4>üë§ Meu Perfil</h4>
                    <p>Editar nome, telefone, trocar senha.</p>
                </div>
            </div>
        </section>

        <!-- √Årea Admin -->
        <section id="area-admin">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                </div>
                <h2>Funcionalidades ‚Äî √Årea Administrativa</h2>
            </div>
            <div class="card-grid">
                <div class="card">
                    <h4>üë• Listar Usu√°rios</h4>
                    <p>Tabela com todos os usu√°rios: nome, email, role, status, √∫ltimo login.</p>
                </div>
                <div class="card">
                    <h4>üö´ Bloquear / Desbloquear</h4>
                    <p>Impedir acesso de usu√°rio problem√°tico, com motivo registrado.</p>
                </div>
                <div class="card">
                    <h4>üîë For√ßar Reset de Senha</h4>
                    <p>Enviar email de reset para usu√°rio, invalidando senha atual.</p>
                </div>
                <div class="card">
                    <h4>üè∑Ô∏è Alterar Role</h4>
                    <p>Promover usu√°rio para admin ou rebaixar para cliente.</p>
                </div>
                <div class="card">
                    <h4>üìã Auditoria</h4>
                    <p>Log de a√ß√µes sens√≠veis: quem fez, quando, o qu√™.</p>
                </div>
            </div>
        </section>

        <!-- Seguran√ßa -->
        <section id="seguranca">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                </div>
                <h2>Seguran√ßa</h2>
            </div>
            
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Aspecto</th>
                            <th>Implementa√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Hash de Senha</strong></td>
                            <td><code>bcrypt</code> com salt rounds = 12</td>
                        </tr>
                        <tr>
                            <td><strong>Sess√£o</strong></td>
                            <td>JWT assinado com <code>HS256</code>, armazenado em cookie <code>HttpOnly</code>, <code>Secure</code>, <code>SameSite=Strict</code></td>
                        </tr>
                        <tr>
                            <td><strong>Expira√ß√£o JWT</strong></td>
                            <td>7 dias (renov√°vel a cada requisi√ß√£o autenticada)</td>
                        </tr>
                        <tr>
                            <td><strong>Rate Limit Login</strong></td>
                            <td>5 tentativas/hora por IP e por email. Bloqueio progressivo.</td>
                        </tr>
                        <tr>
                            <td><strong>Campos de Bloqueio</strong></td>
                            <td><code>failedAttempts</code> + <code>lockedUntil</code> na tabela User</td>
                        </tr>
                        <tr>
                            <td><strong>Reset de Senha</strong></td>
                            <td>Token √∫nico com expira√ß√£o de 1 hora, uso √∫nico</td>
                        </tr>
                        <tr>
                            <td><strong>Auditoria</strong></td>
                            <td>Log de: login, logout, reset, bloqueio, altera√ß√£o de role</td>
                        </tr>
                        <tr>
                            <td><strong>Vazamento de Dados</strong></td>
                            <td>Mensagens gen√©ricas em login/reset ("Email ou senha incorretos")</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Banco de Dados -->
        <section id="banco-dados">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"/></svg>
                </div>
                <h2>Banco de Dados ‚Äî Schema</h2>
            </div>
            
            <h3>Tabela User (atualizada)</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Campo</th>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><code>id</code></td><td>String (UUID)</td><td>Identificador √∫nico</td></tr>
                        <tr><td><code>email</code></td><td>String (unique)</td><td>Email do usu√°rio</td></tr>
                        <tr><td><code>passwordHash</code></td><td>String</td><td>Senha hasheada com bcrypt</td></tr>
                        <tr><td><code>name</code></td><td>String</td><td>Nome completo</td></tr>
                        <tr><td><code>phone</code></td><td>String?</td><td>Telefone (opcional)</td></tr>
                        <tr><td><code>cpf</code></td><td>String?</td><td>CPF (opcional)</td></tr>
                        <tr><td><code>role</code></td><td>Enum</td><td>ADMIN | CLIENT</td></tr>
                        <tr><td><code>isActive</code></td><td>Boolean</td><td>Conta ativa ou bloqueada</td></tr>
                        <tr><td><code>failedAttempts</code></td><td>Int</td><td>Tentativas falhas consecutivas</td></tr>
                        <tr><td><code>lockedUntil</code></td><td>DateTime?</td><td>Bloqueado at√© (rate limit)</td></tr>
                        <tr><td><code>lastLoginAt</code></td><td>DateTime?</td><td>√öltimo login bem-sucedido</td></tr>
                        <tr><td><code>createdAt</code></td><td>DateTime</td><td>Data de cria√ß√£o</td></tr>
                        <tr><td><code>updatedAt</code></td><td>DateTime</td><td>√öltima atualiza√ß√£o</td></tr>
                    </tbody>
                </table>
            </div>

            <h3>Tabela PasswordResetToken</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Campo</th>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><code>id</code></td><td>String (UUID)</td><td>Identificador √∫nico</td></tr>
                        <tr><td><code>token</code></td><td>String (unique)</td><td>Token seguro de reset</td></tr>
                        <tr><td><code>userId</code></td><td>String</td><td>FK para User</td></tr>
                        <tr><td><code>expiresAt</code></td><td>DateTime</td><td>Expira√ß√£o (1 hora)</td></tr>
                        <tr><td><code>usedAt</code></td><td>DateTime?</td><td>Quando foi usado</td></tr>
                        <tr><td><code>createdAt</code></td><td>DateTime</td><td>Data de cria√ß√£o</td></tr>
                    </tbody>
                </table>
            </div>

            <h3>Enum Role</h3>
            <p><code>ADMIN</code> ‚Äî Acesso total ao sistema<br>
            <code>CLIENT</code> ‚Äî Acesso √† √°rea do cliente</p>
        </section>

        <!-- APIs -->
        <section id="apis">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                </div>
                <h2>APIs / Endpoints</h2>
            </div>
            
            <h3>Autentica√ß√£o</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>M√©todo</th>
                            <th>Endpoint</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><span class="badge badge-success">POST</span></td><td><code>/api/auth/register</code></td><td>Cadastro de novo usu√°rio</td></tr>
                        <tr><td><span class="badge badge-success">POST</span></td><td><code>/api/auth/login</code></td><td>Login (retorna cookie JWT)</td></tr>
                        <tr><td><span class="badge badge-success">POST</span></td><td><code>/api/auth/logout</code></td><td>Logout (limpa cookie)</td></tr>
                        <tr><td><span class="badge badge-info">GET</span></td><td><code>/api/auth/me</code></td><td>Retorna usu√°rio logado</td></tr>
                        <tr><td><span class="badge badge-success">POST</span></td><td><code>/api/auth/forgot-password</code></td><td>Solicita reset de senha</td></tr>
                        <tr><td><span class="badge badge-success">POST</span></td><td><code>/api/auth/reset-password</code></td><td>Redefine senha com token</td></tr>
                    </tbody>
                </table>
            </div>

            <h3>√Årea do Cliente</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>M√©todo</th>
                            <th>Endpoint</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><span class="badge badge-info">GET</span></td><td><code>/api/client/credits</code></td><td>Cr√©ditos do usu√°rio por sala</td></tr>
                        <tr><td><span class="badge badge-info">GET</span></td><td><code>/api/client/bookings</code></td><td>Agendamentos do usu√°rio</td></tr>
                        <tr><td><span class="badge badge-warning">PATCH</span></td><td><code>/api/client/profile</code></td><td>Atualizar perfil</td></tr>
                        <tr><td><span class="badge badge-warning">PATCH</span></td><td><code>/api/client/change-password</code></td><td>Trocar senha</td></tr>
                    </tbody>
                </table>
            </div>

            <h3>Admin ‚Äî Gest√£o de Usu√°rios</h3>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>M√©todo</th>
                            <th>Endpoint</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><span class="badge badge-info">GET</span></td><td><code>/api/admin/users</code></td><td>Listar todos os usu√°rios</td></tr>
                        <tr><td><span class="badge badge-info">GET</span></td><td><code>/api/admin/users/[id]</code></td><td>Detalhes de um usu√°rio</td></tr>
                        <tr><td><span class="badge badge-warning">PATCH</span></td><td><code>/api/admin/users/[id]/block</code></td><td>Bloquear usu√°rio</td></tr>
                        <tr><td><span class="badge badge-warning">PATCH</span></td><td><code>/api/admin/users/[id]/unblock</code></td><td>Desbloquear usu√°rio</td></tr>
                        <tr><td><span class="badge badge-success">POST</span></td><td><code>/api/admin/users/[id]/force-reset</code></td><td>For√ßar reset de senha</td></tr>
                        <tr><td><span class="badge badge-warning">PATCH</span></td><td><code>/api/admin/users/[id]/role</code></td><td>Alterar role do usu√°rio</td></tr>
                        <tr><td><span class="badge badge-info">GET</span></td><td><code>/api/admin/audit</code></td><td>Log de auditoria</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Regras de Neg√≥cio -->
        <section id="regras-negocio">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg>
                </div>
                <h2>Regras de Neg√≥cio Cr√≠ticas</h2>
            </div>
            
            <div class="card-grid">
                <div class="card">
                    <h4>üïê Hor√°rio de Funcionamento</h4>
                    <p><strong>Seg‚ÄìSex:</strong> 08:00 √†s 20:00<br><strong>S√°bado:</strong> 08:00 √†s 12:00<br><strong>Domingo:</strong> Fechado</p>
                </div>
                <div class="card">
                    <h4>üîí Lock contra Double Booking</h4>
                    <p>Uso de transaction lock no banco para evitar que dois usu√°rios agendem o mesmo hor√°rio simultaneamente.</p>
                </div>
                <div class="card">
                    <h4>üïê Hor√°rios V√°lidos</h4>
                    <p>Apenas hor√°rios dentro do funcionamento do espa√ßo. Bloquear tentativas de hor√°rios imposs√≠veis.</p>
                </div>
                <div class="card">
                    <h4>üìÖ Agendamentos Consecutivos</h4>
                    <p>Usu√°rio pode agendar hor√°rios colados (ex: 10:00‚Äì11:00 e 11:00‚Äì12:00). Sem intervalo obrigat√≥rio.</p>
                </div>
                <div class="card">
                    <h4>üí≥ Cr√©ditos por Consult√≥rio</h4>
                    <p>Cr√©ditos s√£o espec√≠ficos por consult√≥rio (Consult√≥rio 1 | Prime, Consult√≥rio 2 | Executive, Consult√≥rio 3 | Essential). N√£o s√£o intercambi√°veis.</p>
                </div>
                <div class="card">
                    <h4>üö´ Cancelamento (48h)</h4>
                    <p>Cancelamento permitido somente com anteced√™ncia m√≠nima de <strong>48 horas</strong>.</p>
                </div>
            </div>
        </section>

        <!-- Checklist -->
        <section id="checklist">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <h2>Checklist de Implementa√ß√£o</h2>
            </div>
            
            <ul class="checklist">
                <li><div class="checklist-box"></div><span>Schema Prisma atualizado com User, PasswordResetToken, Role</span></li>
                <li><div class="checklist-box"></div><span>Migration executada em dev e produ√ß√£o</span></li>
                <li><div class="checklist-box"></div><span>Seed com usu√°rio admin padr√£o</span></li>
                <li><div class="checklist-box"></div><span>Endpoint POST /api/auth/register funcionando</span></li>
                <li><div class="checklist-box"></div><span>Endpoint POST /api/auth/login com JWT em cookie HttpOnly</span></li>
                <li><div class="checklist-box"></div><span>Endpoint POST /api/auth/logout limpando cookie</span></li>
                <li><div class="checklist-box"></div><span>Middleware de prote√ß√£o de rotas autenticadas</span></li>
                <li><div class="checklist-box"></div><span>Tela de Login funcional e responsiva</span></li>
                <li><div class="checklist-box"></div><span>Tela de Cadastro funcional e responsiva</span></li>
                <li><div class="checklist-box"></div><span>Endpoint POST /api/auth/forgot-password</span></li>
                <li><div class="checklist-box"></div><span>Email de reset sendo enviado corretamente</span></li>
                <li><div class="checklist-box"></div><span>Tela de Reset de Senha funcional</span></li>
                <li><div class="checklist-box"></div><span>Rate limit implementado (5 tentativas/hora)</span></li>
                <li><div class="checklist-box"></div><span>Campos failedAttempts e lockedUntil funcionando</span></li>
                <li><div class="checklist-box"></div><span>√Årea do Cliente: dashboard com cr√©ditos</span></li>
                <li><div class="checklist-box"></div><span>√Årea do Cliente: lista de agendamentos</span></li>
                <li><div class="checklist-box"></div><span>Admin: listagem de usu√°rios</span></li>
                <li><div class="checklist-box"></div><span>Admin: bloquear/desbloquear usu√°rio</span></li>
                <li><div class="checklist-box"></div><span>Admin: for√ßar reset de senha</span></li>
                <li><div class="checklist-box"></div><span>Admin: alterar role</span></li>
                <li><div class="checklist-box"></div><span>Auditoria: log de a√ß√µes sens√≠veis</span></li>
                <li><div class="checklist-box"></div><span>Testes unit√°rios das fun√ß√µes de auth</span></li>
                <li><div class="checklist-box"></div><span>Testes E2E do fluxo de login/cadastro</span></li>
                <li><div class="checklist-box"></div><span>Revis√£o de seguran√ßa (sem vazamentos, mensagens gen√©ricas)</span></li>
                <li><div class="checklist-box"></div><span>Deploy em produ√ß√£o validado</span></li>
            </ul>
        </section>

        <!-- Cronograma -->
        <section id="cronograma">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                </div>
                <h2>Cronograma ‚Äî At√© 05/01</h2>
            </div>
            
            <div class="timeline">
                <div class="timeline-item completed">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">30/12 (Hoje)</div>
                    <div class="timeline-title">Organiza√ß√£o e Documento</div>
                    <div class="timeline-desc">Levantamento de requisitos, defini√ß√£o do plano, cria√ß√£o deste documento.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">31/12</div>
                    <div class="timeline-title">Schema + Migrations + Seed</div>
                    <div class="timeline-desc">Atualizar schema Prisma, criar migrations, seed com admin.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">01/01</div>
                    <div class="timeline-title">Endpoints de Auth</div>
                    <div class="timeline-desc">Register, login, logout. JWT em cookie HttpOnly. Testes.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">02/01</div>
                    <div class="timeline-title">Telas + Prote√ß√£o de Rotas</div>
                    <div class="timeline-desc">Telas de login/cadastro. Middleware de autentica√ß√£o. Redirect.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">03/01</div>
                    <div class="timeline-title">Forgot/Reset + Email</div>
                    <div class="timeline-desc">Endpoints de forgot/reset. Integra√ß√£o com servi√ßo de email. Tela de reset.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">04/01</div>
                    <div class="timeline-title">Admin: Gest√£o de Usu√°rios</div>
                    <div class="timeline-desc">Listar, bloquear, desbloquear, for√ßar reset, alterar role. Auditoria.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">05/01</div>
                    <div class="timeline-title">Testes + Revis√£o + Deploy</div>
                    <div class="timeline-desc">Testes finais, revis√£o de seguran√ßa, checklist 100%, deploy produ√ß√£o.</div>
                </div>
                <div class="timeline-item marketing">
                    <div class="timeline-dot"></div>
                    <div class="timeline-date">06/01</div>
                    <div class="timeline-title">üöÄ IN√çCIO DO MARKETING</div>
                    <div class="timeline-desc">Sistema pronto. In√≠cio das a√ß√µes de divulga√ß√£o.</div>
                </div>
            </div>
        </section>

        <!-- Plano de Marketing -->
        <section id="marketing">
            <div class="section-header">
                <div class="section-icon">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/></svg>
                </div>
                <h2>Plano de Marketing ‚Äî A partir de 06/01</h2>
            </div>
            
            <div class="card-grid">
                <div class="card">
                    <h4>üìÖ 06/01 ‚Äî Lan√ßamento</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>Post no Instagram: "Novo sistema online!"</li>
                        <li>Stories mostrando a √°rea do cliente</li>
                        <li>Email para base atual anunciando novidade</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>üìÖ 07/01 ‚Äî Engajamento</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>Tutorial em v√≠deo: como agendar pelo site</li>
                        <li>Responder d√∫vidas nos coment√°rios</li>
                        <li>Repost de clientes usando o sistema</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>üìÖ 08-09/01 ‚Äî Benef√≠cios</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>Destacar benef√≠cios: cr√©ditos, hist√≥rico, praticidade</li>
                        <li>Depoimentos de clientes satisfeitos</li>
                        <li>Post sobre seguran√ßa e privacidade</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>üìÖ 10-12/01 ‚Äî Promo√ß√£o</h4>
                    <ul style="font-size: 0.9rem;">
                        <li>Promo√ß√£o de boas-vindas para novos cadastros</li>
                        <li>Parceria com profissionais para divulga√ß√£o</li>
                        <li>An√°lise de m√©tricas e ajustes</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer>
            <p><strong>Plano de Implementa√ß√£o ‚Äî Login + √Årea do Cliente</strong></p>
            <p>Espa√ßo Arthemi ‚Ä¢ Vers√£o 1.0 ‚Ä¢ 30 de Dezembro de 2025</p>
            <p style="margin-top: 1rem; font-size: 0.75rem; color: var(--text-muted);">
                Documento gerado para alinhamento interno. Sujeito a ajustes conforme andamento do projeto.
            </p>
        </footer>
    </div>
</body>
</html>