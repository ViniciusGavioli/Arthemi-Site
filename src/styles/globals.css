@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 23, 23, 23;
  --background-start-rgb: 250, 250, 250;
  --background-end-rgb: 255, 255, 255;
  /* iOS Safe Areas */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

/* iOS Safari fixes */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
    to bottom,
    transparent,
    rgb(var(--background-end-rgb))
  )
  rgb(var(--background-start-rgb));
  /* Previne overflow horizontal no mobile */
  overflow-x: hidden;
  /* iOS safe area padding */
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* Smooth scroll para iOS */
@supports (-webkit-touch-callout: none) {
  html {
    scroll-behavior: smooth;
  }
}

/* Fix para 100vh no iOS */
.min-h-screen-ios {
  min-height: 100vh;
  min-height: -webkit-fill-available;
  min-height: 100svh;
}

/* Inputs - previne zoom no iOS (mínimo 16px) */
input, select, textarea {
  font-size: 16px !important;
}

@media (min-width: 768px) {
  input, select, textarea {
    font-size: inherit !important;
  }
}

/* Botões touch-friendly */
button, a, [role="button"] {
  touch-action: manipulation;
}

/* Safe area para elementos fixos/sticky no bottom */
.pb-safe {
  padding-bottom: max(1rem, var(--safe-area-inset-bottom));
}

.pt-safe {
  padding-top: max(1rem, var(--safe-area-inset-top));
}

/* FullCalendar customizations */
.fc {
  font-family: inherit;
}

.fc-toolbar-title {
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  color: #1f2937 !important;
}

.fc-button-primary {
  background-color: #2d9266 !important;
  border-color: #2d9266 !important;
}

.fc-button-primary:hover {
  background-color: #1e7652 !important;
  border-color: #1e7652 !important;
}

.fc-button-primary:disabled {
  background-color: #84cba8 !important;
  border-color: #84cba8 !important;
}

.fc-event {
  cursor: pointer;
}

/* DatePicker customizations */
.react-datepicker {
  font-family: inherit !important;
  border-color: #e5e7eb !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1) !important;
}

.react-datepicker__header {
  background-color: #f0f9f4 !important;
  border-bottom-color: #d9f0e3 !important;
}

.react-datepicker__day--selected {
  background-color: #2d9266 !important;
}

.react-datepicker__day--keyboard-selected {
  background-color: #51ae82 !important;
}

.react-datepicker__time-container
  .react-datepicker__time
  .react-datepicker__time-box
  ul.react-datepicker__time-list
  li.react-datepicker__time-list-item--selected {
  background-color: #2d9266 !important;
}

/* Modal backdrop */
.modal-backdrop {
  animation: fadeIn 0.2s ease-out;
}

.modal-content {
  animation: slideUp 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

/* Animações utilitárias */
.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

.animate-shake {
  animation: shake 0.5s ease-out;
}
